<!DOCTYPE html>
<html>
    <head>

        <style>
            @import url('sp://import/css/eve.css');
            @import url('sp://dynplay/css/main.css');
            @import url('sp://dynplay/css/github.css');
            @import url('sp://import/css/shared.css');
            @import url('sp://import/css/api.css');
        </style>

		<script src="sp://dynplay/js/jquery.min.js"></script>
		<script src="sp://dynplay/js/underscore/underscore-min.js"></script>
		<script src="sp://dynplay/js/backbone/backbone-min.js"></script>
		<script src="sp://dynplay/js/rainbow-custom.min.js"></script>
		<script src="sp://dynplay/js/enplayer.js"></script>
		<script src="sp://dynplay/js/models/dynplay.js"></script>
        <script src="sp://dynplay/js/models/artist.js"></script>
        <script src="sp://dynplay/js/models/song.js"></script>
		<script src="sp://dynplay/js/views/nowPlaying.js"></script>

		</script>

        <script>
        	jQuery.ajaxSettings.traditional = true;
            $(document).ready(function () {

                /* Instantiate the global sp object; include models & views */
                initialize();
            });
        </script>
    </head>
    <body>
		<div id="wrapper">
            <div id="index" class="section">
                <h1>Echo Nest Dynamic Radio</h1>

                <div id="_controls">
					<div id="_enter_seeds">
	                    <form id="param_form">
	                        <label for="_artist">Artist:</label><input type="text" id="_artist" placeholder="Seed artist" size="50"/>
	                        <label for="_song_title">Song Title (optional):</label><input type="text" id="_song_title" placeholder="Seed song" size="50"/><br />
							<input type="checkbox" id="_cat_radio" value="" style="-webkit-appearance: checkbox !important;"/><label for="_cat_radio">Just use catalog radio</label><br />
	                        <label for="_artist_hot">Artist Hot Min:</label><input type="text" id="_artist_hot" placeholder="0.0" size="4"/>
	                        <label for="_song_hot">Song Hot Min:</label><input type="text" id="_song_hot" placeholder="0.0" size="4"/>
	                        <label for="_variety">Variety:</label><input type="text" id="_variety" placeholder="0.3" size="4"/>
		                    <button class="button" id="_play" onclick="makePlaylist(); return false;">Let's go</button>
	                    </form>
					</div>
					<div id="_display_seeds" style="display:none;">
						<p>You're listening to <b id="_disp_art_name">Bonobo</b> radio <span id="_disp_song_seed">, seeded with <b>Flite</b></span></p>
	                    <button class="button" id="_enter_new" onclick="displayEnterNew()">Make a new playlist!</button>
					</div>
                    <h2>Now Playing</h2>
                    <div id="nowplaying">
                    </div>

                    <div id="controls">
						Rate this song:<br/>
						Hate (0)<input type="range" name="_song_rating" min="0" max="10" value="" onclick="rateSong();"/>Love (10)<br/>
                    </div>

                    <br /><br />
					<div id="tabs"><a href="#">Playlist</a><a href="#">Biography</a><a href="#">Social</a><a href="#">Images</a></div>
                    <h2>Playlist</h2>
                    <div id="played-list">
                    </div>
                </div>
            </div><!-- /index -->

            <div id="history" class="section" style="display:none;">
                <div id="_diagnostics">
                    <br /><br /><h2>Summary/Diagnostic Information</h2>
                    <label for="_session_id">Echo Nest Session ID</label><input type="text" id="_session_id" placeholder="EN Session ID" size="50" /><br />
					<div class="_en_site">
						<a href="" >Open Session History in Browser</a>
					</div>
                    <br /><br /><h2>Banned Items</h2>
                    <div id="banned">
                        <b>Banned Artists:</b><br />
                        <ul id="banned_artists"></ul>
                        <br /><br /><b>Banned Songs:</b><br />
                        <ul id="banned_songs"></ul>
                    </div>
                    <div id="favorited">
                        <b>Favorite Artists:</b><br />
                        <ul id="favorite_artists"></ul>
                        <br /><br /><b>Favorite Songs:</b><br />
                        <ul id="favorite_songs"></ul>
                        <br /><br /><b>Rated Songs:</b><br />
                        <ul id="rated_songs"></ul>
                    </div>
                </div>
            </div> <!-- /history -->

            <div id="config" class="section" style="display:none;">
                <h1>Dynamic Playlist Configuration</h1>
                <p>Here is where parameters on the overall configuration can be changed</p>

                <label for="_api_key" style="width:200px;border: 3px #ff0000;">API Key:</label><input type="text" id="_api_key" placeholder="" size="36"/><br />
                <label for="_host" style="width:200px;border:1px #ff0000;">Host:</label><input type="text" id="_host" placeholder="" size="50"/>
                <br /><br />
                <button class="button" id="_save_config" onclick="updateConfig();">Update Configuration!</button>

                <br />
                <br />
                <br />
				<h2>Taste Profile Configuration</h2>
				<button class="button" id="_create_new_catalog" onclick="createNewCatalog();">Create New Taste Profile</button>
                <button class="button" id="_delete_existing_catalog" onclick="deleteExistingCatalog();">Delete Existing Taste Profile</button>

                <br /><label for="_catalog_id" style="width:200px;border:1px #ff0000;">Catalog ID:</label><input type="text" id="_catalog_id" placeholder="" size="50"/><br />

				<div class="_en_catalog_site">
					<a href="">Open Catalog/Read in Browser</a>
				</div>

				<br /><br /><h3>List of Taste Profiles</h3>
				<div class="_en_tp_list">I am here</div>

            </div>
		</div><!-- /wrapper-->
    </body>
<!-- templates for various views -->
<script type="text/template" id="now_playing_template">
	<div id="trackinfo" style="float: left; width:30%">
	    <p id="np_artist">Artist: <%= artistName %></p>
	    <p id="np_song">Song: <%= songTitle %></p>
	    <p id="np_year">Year: <%= songYear %></p>
	    <p id="np_album">Album: <%= album %></p>
	    <p>Twitter: <a id="_twiturl" href="<%= twitterUrl %>"><%= twitterUrl %></a></p>
	    <p>Facebook: <a id="_fburl" href="<%= facebookUrl %>"><%= facebookUrl %></a></p>
	</div>
	<div id="np_cover" style="float: left;">
	    <div id="cover_placeholder"></div>
	</div>
	<div id="control_buttons" style="float: left; margin-left: 10px;">
	    <button class="button" id="_skip" onclick="skipTrack();">Skip</button><br />
	    <button class="button" id="_favartist" onclick="favoriteArtist();">Favorite Artist</button><br />
	    <button class="button" id="_favsong" onclick="favoriteSong();">Favorite Song</button><br />
	    <button class="button" id="_spotstar" onclick="spotifyStar();">Spotify Star</button><br />
	    <button class="button" id="_banartist" onclick="banArtist();">Ban Artist</button><br />
	    <button class="button" id="_bansong" onclick="banSong();">Ban Song</button><br />
	</div>
	<div style="clear:both;"></div>
</script>
</html>
